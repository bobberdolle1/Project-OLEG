{% extends "base.html" %}

{% block header %}Модерация{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="h5">12</div>
                <div class="text-muted">Жалоб</div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="h5">5</div>
                <div class="text-muted">Банов</div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="h5">8</div>
                <div class="text-muted">Мутов</div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-center">
            <div class="card-body">
                <div class="h5">3</div>
                <div class="text-muted">Варнов</div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">Модерация чата</h5>
                <div>
                    <form method="POST" action="{{ url_for('set_mode', mode='light') }}" style="display: inline;">
                        <button type="submit" class="btn btn-sm {{ 'btn-primary active' if current_mode == 'light' else 'btn-outline-primary' }} me-1">Лайт</button>
                    </form>
                    <form method="POST" action="{{ url_for('set_mode', mode='normal') }}" style="display: inline;">
                        <button type="submit" class="btn btn-sm {{ 'btn-info active' if current_mode == 'normal' else 'btn-outline-info' }} me-1">Норма</button>
                    </form>
                    <form method="POST" action="{{ url_for('set_mode', mode='dictatorship') }}" style="display: inline;">
                        <button type="submit" class="btn btn-sm {{ 'btn-danger active' if current_mode == 'dictatorship' else 'btn-outline-danger' }}">Диктатура</button>
                    </form>
                </div>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i> Текущий режим: <strong>Диктатура</strong> - жесткий автомут за любые запрещенные слова
                </div>
                
                <h6>Настройки модерации:</h6>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="antiflood" checked>
                            <label class="form-check-label" for="antiflood">
                                Антифлуд
                            </label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="antiswear" checked>
                            <label class="form-check-label" for="antiswear">
                                Антимат
                            </label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="antispam" checked>
                            <label class="form-check-label" for="antispam">
                                Антиспам ссылками
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="antiraid" checked>
                            <label class="form-check-label" for="antiraid">
                                Антирайд
                            </label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="antitoxic">
                            <label class="form-check-label" for="antitoxic">
                                Антитоксичность
                            </label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="autoresponses">
                            <label class="form-check-label" for="autoresponses">
                                Автоответы
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="mt-3">
                    <button class="btn btn-success">Сохранить настройки</button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">Черный список слов</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Добавить слово...">
                        <button class="btn btn-outline-secondary" type="button">+</button>
                    </div>
                </div>
                
                <div class="list-group">
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        слово1
                        <span class="badge bg-primary rounded-pill">12</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        слово2
                        <span class="badge bg-primary rounded-pill">8</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        слово3
                        <span class="badge bg-primary rounded-pill">5</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        слово4
                        <span class="badge bg-primary rounded-pill">3</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card mt-4">
    <div class="card-header">
        <h5 class="card-title mb-0">Последние действия модерации</h5>
    </div>
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-striped mb-0">
                <thead>
                    <tr>
                        <th>Время</th>
                        <th>Пользователь</th>
                        <th>Действие</th>
                        <th>Причина</th>
                        <th>Модератор</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>10:30:25</td>
                        <td>@user123</td>
                        <td><span class="badge bg-warning">Мут</span></td>
                        <td>Флуд</td>
                        <td>Админ</td>
                    </tr>
                    <tr>
                        <td>10:25:12</td>
                        <td>@user456</td>
                        <td><span class="badge bg-danger">Бан</span></td>
                        <td>Спам</td>
                        <td>Админ</td>
                    </tr>
                    <tr>
                        <td>10:20:05</td>
                        <td>@user789</td>
                        <td><span class="badge bg-info">Варн</span></td>
                        <td>Токсичность</td>
                        <td>Модератор</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}